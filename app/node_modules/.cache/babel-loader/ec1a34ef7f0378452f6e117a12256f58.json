{"ast":null,"code":"import _createForOfIteratorHelper from\"/home/runner/work/keymap-editor/keymap-editor/app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _toConsumableArray from\"/home/runner/work/keymap-editor/keymap-editor/app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import*as api from'./api';export function loadBehaviours(){return api.loadBehaviours();}export function loadKeycodes(){return api.loadKeycodes().then(normalizeZmkKeycodes);}function shortestAlias(aliases){return _toConsumableArray(aliases).sort(function(a,b){return a.length-b.length;})[0].replace(/^KC_/,'');}function normalizeZmkKeycodes(keycodes){var fnPattern=/^(.+?)\\((code)\\)$/;return keycodes.reduce(function(keycodes,keycode){var description=keycode.description,context=keycode.context,symbol=keycode.symbol,faIcon=keycode.faIcon;var aliases=keycode.names.filter(function(name){return!name.match(fnPattern);});var fnCode=keycode.names.map(function(name){return name.match(fnPattern);}).filter(function(v){return!!v;})[0];var base={aliases:aliases,description:description,context:context,faIcon:faIcon,symbol:symbol||shortestAlias(aliases),params:[]};var _iterator=_createForOfIteratorHelper(aliases),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var code=_step.value;keycodes.push(Object.assign({},base,{code:code,isModifier:!!fnCode}));}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(fnCode){keycodes.push(Object.assign({},base,{code:fnCode[1],params:fnCode[2].split(',')}));}return keycodes;},[]);}","map":{"version":3,"names":["api","loadBehaviours","loadKeycodes","then","normalizeZmkKeycodes","shortestAlias","aliases","sort","a","b","length","replace","keycodes","fnPattern","reduce","keycode","description","context","symbol","faIcon","names","filter","name","match","fnCode","map","v","base","params","code","push","Object","assign","isModifier","split"],"sources":["/home/runner/work/keymap-editor/keymap-editor/app/src/keycodes.js"],"sourcesContent":["import * as api from './api'\n\nexport function loadBehaviours () {\n  return api.loadBehaviours()\n}\n\nexport function loadKeycodes () {\n  return api.loadKeycodes().then(normalizeZmkKeycodes)\n}\n\nfunction shortestAlias (aliases) {\n  return [...aliases]\n    .sort((a, b) => a.length - b.length)[0]\n    .replace(/^KC_/, '')\n}\n\nfunction normalizeZmkKeycodes (keycodes) {\n  const fnPattern = /^(.+?)\\((code)\\)$/\n\n  return keycodes.reduce((keycodes, keycode) => {\n    const { description, context, symbol, faIcon } = keycode\n    const aliases = keycode.names.filter(name => !name.match(fnPattern))\n    const fnCode = keycode.names.map(name => name.match(fnPattern)).filter(v => !!v)[0]\n    const base = { aliases, description, context, faIcon, symbol: symbol || shortestAlias(aliases), params: [] }\n\n    for (let code of aliases) {\n      keycodes.push(Object.assign({}, base, {\n        code,\n        isModifier: !!fnCode\n      }))\n    }\n\n    if (fnCode) {\n      keycodes.push(Object.assign({}, base, {\n        code: fnCode[1],\n        params: fnCode[2].split(',')\n      }))\n    }\n\n    return keycodes\n  }, [])\n}\n"],"mappings":"8SAAA,MAAO,GAAKA,CAAAA,GAAZ,KAAqB,OAArB,CAEA,MAAO,SAASC,CAAAA,cAAT,EAA2B,CAChC,MAAOD,CAAAA,GAAG,CAACC,cAAJ,EAAP,CACD,CAED,MAAO,SAASC,CAAAA,YAAT,EAAyB,CAC9B,MAAOF,CAAAA,GAAG,CAACE,YAAJ,GAAmBC,IAAnB,CAAwBC,oBAAxB,CAAP,CACD,CAED,QAASC,CAAAA,aAAT,CAAwBC,OAAxB,CAAiC,CAC/B,MAAO,oBAAIA,OAAJ,EACJC,IADI,CACC,SAACC,CAAD,CAAIC,CAAJ,QAAUD,CAAAA,CAAC,CAACE,MAAF,CAAWD,CAAC,CAACC,MAAvB,EADD,EACgC,CADhC,EAEJC,OAFI,CAEI,MAFJ,CAEY,EAFZ,CAAP,CAGD,CAED,QAASP,CAAAA,oBAAT,CAA+BQ,QAA/B,CAAyC,CACvC,GAAMC,CAAAA,SAAS,CAAG,mBAAlB,CAEA,MAAOD,CAAAA,QAAQ,CAACE,MAAT,CAAgB,SAACF,QAAD,CAAWG,OAAX,CAAuB,CAC5C,GAAQC,CAAAA,WAAR,CAAiDD,OAAjD,CAAQC,WAAR,CAAqBC,OAArB,CAAiDF,OAAjD,CAAqBE,OAArB,CAA8BC,MAA9B,CAAiDH,OAAjD,CAA8BG,MAA9B,CAAsCC,MAAtC,CAAiDJ,OAAjD,CAAsCI,MAAtC,CACA,GAAMb,CAAAA,OAAO,CAAGS,OAAO,CAACK,KAAR,CAAcC,MAAd,CAAqB,SAAAC,IAAI,QAAI,CAACA,IAAI,CAACC,KAAL,CAAWV,SAAX,CAAL,EAAzB,CAAhB,CACA,GAAMW,CAAAA,MAAM,CAAGT,OAAO,CAACK,KAAR,CAAcK,GAAd,CAAkB,SAAAH,IAAI,QAAIA,CAAAA,IAAI,CAACC,KAAL,CAAWV,SAAX,CAAJ,EAAtB,EAAiDQ,MAAjD,CAAwD,SAAAK,CAAC,QAAI,CAAC,CAACA,CAAN,EAAzD,EAAkE,CAAlE,CAAf,CACA,GAAMC,CAAAA,IAAI,CAAG,CAAErB,OAAO,CAAPA,OAAF,CAAWU,WAAW,CAAXA,WAAX,CAAwBC,OAAO,CAAPA,OAAxB,CAAiCE,MAAM,CAANA,MAAjC,CAAyCD,MAAM,CAAEA,MAAM,EAAIb,aAAa,CAACC,OAAD,CAAxE,CAAmFsB,MAAM,CAAE,EAA3F,CAAb,CAJ4C,yCAM3BtB,OAN2B,YAM5C,+CAA0B,IAAjBuB,CAAAA,IAAiB,aACxBjB,QAAQ,CAACkB,IAAT,CAAcC,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBL,IAAlB,CAAwB,CACpCE,IAAI,CAAJA,IADoC,CAEpCI,UAAU,CAAE,CAAC,CAACT,MAFsB,CAAxB,CAAd,EAID,CAX2C,qDAa5C,GAAIA,MAAJ,CAAY,CACVZ,QAAQ,CAACkB,IAAT,CAAcC,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBL,IAAlB,CAAwB,CACpCE,IAAI,CAAEL,MAAM,CAAC,CAAD,CADwB,CAEpCI,MAAM,CAAEJ,MAAM,CAAC,CAAD,CAAN,CAAUU,KAAV,CAAgB,GAAhB,CAF4B,CAAxB,CAAd,EAID,CAED,MAAOtB,CAAAA,QAAP,CACD,CArBM,CAqBJ,EArBI,CAAP,CAsBD"},"metadata":{},"sourceType":"module"}