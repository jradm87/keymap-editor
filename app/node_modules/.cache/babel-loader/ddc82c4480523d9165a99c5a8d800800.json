{"ast":null,"code":"import _objectSpread from\"/home/runner/work/keymap-editor/keymap-editor/app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/home/runner/work/keymap-editor/keymap-editor/app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/runner/work/keymap-editor/keymap-editor/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import filter from'lodash/filter';import get from'lodash/get';import isEmpty from'lodash/isEmpty';import keyBy from'lodash/keyBy';import times from'lodash/times';import{useContext,useMemo,useState}from'react';import KeyboardLayout from'./KeyboardLayout';import LayerSelector from'./LayerSelector';import{getKeyBoundingBox}from'../key-units';import{DefinitionsContext,SearchContext}from'../providers';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Keyboard(props){var layout=props.layout,keymap=props.keymap,onUpdate=props.onUpdate;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeLayer=_useState2[0],setActiveLayer=_useState2[1];var _useContext=useContext(DefinitionsContext),keycodes=_useContext.keycodes,behaviours=_useContext.behaviours;var availableLayers=useMemo(function(){return isEmpty(keymap)?[]:keymap.layers.map(function(_,i){return{code:i,description:keymap.layer_names[i]||\"Layer \".concat(i)};});},[keymap]);var sources=useMemo(function(){return{kc:keycodes.indexed,code:keycodes.indexed,mod:keyBy(filter(keycodes,'isModifier'),'code'),behaviours:behaviours.indexed,layer:keyBy(availableLayers,'code')};},[keycodes,behaviours,availableLayers]);// TODO: this may be unnecessary\nvar isReady=useMemo(function(){return function(){return Object.keys(keycodes.indexed).length>0&&Object.keys(behaviours.indexed).length>0&&get(keymap,'layers.length',0)>0;};},[keycodes,behaviours,keymap]);var searchTargets=useMemo(function(){return{behaviour:behaviours,layer:availableLayers,mod:filter(keycodes,'isModifier'),code:keycodes};},[behaviours,keycodes,availableLayers]);var getSearchTargets=useMemo(function(){return function(param,behaviour){// Special case for behaviour commands which can dynamically add another\n// parameter that isn't defined at the root level of the behaviour.\n// Currently this is just `&bt BT_SEL` and is only represented as an enum.\nif(param.enum){return param.enum.map(function(v){return{code:v};});}if(param==='command'){return get(sources,['behaviours',behaviour,'commands'],[]);}if(!searchTargets[param]){console.log('cannot find target for',param);}return searchTargets[param];};},[searchTargets,sources]);var boundingBox=useMemo(function(){return function(){return layout.map(function(key){return getKeyBoundingBox({x:key.x,y:key.y},{u:key.u||key.w||1,h:key.h||1},{x:key.rx,y:key.ry,a:key.r});}).reduce(function(_ref,_ref2){var x=_ref.x,y=_ref.y;var max=_ref2.max;return{x:Math.max(x,max.x),y:Math.max(y,max.y)};},{x:0,y:0});};},[layout]);var getWrapperStyle=useMemo(function(){return function(){var bbox=boundingBox();return{width:\"\".concat(bbox.x,\"px\"),height:\"\".concat(bbox.y,\"px\"),margin:'0 auto',padding:'40px'};};},[boundingBox]);var handleCreateLayer=useMemo(function(){return function(){var layer=keymap.layers.length;var binding='&trans';var makeKeycode=function makeKeycode(){return{value:binding,params:[]};};var newLayer=times(layout.length,makeKeycode);var updatedLayerNames=[].concat(_toConsumableArray(keymap.layer_names),[\"Layer #\".concat(layer)]);var layers=[].concat(_toConsumableArray(keymap.layers),[newLayer]);onUpdate(_objectSpread(_objectSpread({},keymap),{},{layer_names:updatedLayerNames,layers:layers}));};},[keymap,layout,onUpdate]);var handleUpdateLayer=useMemo(function(){return function(layerIndex,updatedLayer){var original=keymap.layers;var layers=[].concat(_toConsumableArray(original.slice(0,layerIndex)),[updatedLayer],_toConsumableArray(original.slice(layerIndex+1)));onUpdate(_objectSpread(_objectSpread({},keymap),{},{layers:layers}));};},[keymap,onUpdate]);var handleRenameLayer=useMemo(function(){return function(layerName){var layer_names=[].concat(_toConsumableArray(keymap.layer_names.slice(0,activeLayer)),[layerName],_toConsumableArray(keymap.layer_names.slice(activeLayer+1)));onUpdate(_objectSpread(_objectSpread({},keymap),{},{layer_names:layer_names}));};},[keymap,activeLayer,onUpdate]);var handleDeleteLayer=useMemo(function(){return function(layerIndex){var layer_names=_toConsumableArray(keymap.layer_names);layer_names.splice(layerIndex,1);var layers=_toConsumableArray(keymap.layers);layers.splice(layerIndex,1);if(activeLayer>layers.length-1){setActiveLayer(Math.max(0,layers.length-1));}onUpdate(_objectSpread(_objectSpread({},keymap),{},{layers:layers,layer_names:layer_names}));};},[keymap,activeLayer,setActiveLayer,onUpdate]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LayerSelector,{layers:keymap.layer_names,activeLayer:activeLayer,onSelect:setActiveLayer,onNewLayer:handleCreateLayer,onRenameLayer:handleRenameLayer,onDeleteLayer:handleDeleteLayer}),/*#__PURE__*/_jsx(SearchContext.Provider,{value:{getSearchTargets:getSearchTargets,sources:sources},children:/*#__PURE__*/_jsx(\"div\",{style:getWrapperStyle(),children:isReady()&&/*#__PURE__*/_jsx(KeyboardLayout,{\"data-layer\":activeLayer,layout:layout,bindings:keymap.layers[activeLayer],onUpdate:function onUpdate(event){return handleUpdateLayer(activeLayer,event);}})})})]});}export default Keyboard;","map":{"version":3,"names":["filter","get","isEmpty","keyBy","times","useContext","useMemo","useState","KeyboardLayout","LayerSelector","getKeyBoundingBox","DefinitionsContext","SearchContext","Keyboard","props","layout","keymap","onUpdate","activeLayer","setActiveLayer","keycodes","behaviours","availableLayers","layers","map","_","i","code","description","layer_names","sources","kc","indexed","mod","layer","isReady","Object","keys","length","searchTargets","behaviour","getSearchTargets","param","enum","v","console","log","boundingBox","key","x","y","u","w","h","rx","ry","a","r","reduce","max","Math","getWrapperStyle","bbox","width","height","margin","padding","handleCreateLayer","binding","makeKeycode","value","params","newLayer","updatedLayerNames","handleUpdateLayer","layerIndex","updatedLayer","original","slice","handleRenameLayer","layerName","handleDeleteLayer","splice","event"],"sources":["/home/runner/work/keymap-editor/keymap-editor/app/src/Keyboard/Keyboard.js"],"sourcesContent":["import filter from 'lodash/filter'\nimport get from 'lodash/get'\nimport isEmpty from 'lodash/isEmpty'\nimport keyBy from 'lodash/keyBy'\nimport times from 'lodash/times'\nimport PropTypes from 'prop-types'\nimport { useContext, useMemo, useState } from 'react'\n\nimport KeyboardLayout from './KeyboardLayout'\nimport LayerSelector from './LayerSelector'\nimport { getKeyBoundingBox } from '../key-units'\nimport { DefinitionsContext, SearchContext } from '../providers'\n\nfunction Keyboard(props) {\n  const { layout, keymap, onUpdate } = props\n  const [activeLayer, setActiveLayer] = useState(0)\n  const {keycodes, behaviours} = useContext(DefinitionsContext)\n\n  const availableLayers = useMemo(() => isEmpty(keymap) ? [] : (\n    keymap.layers.map((_, i) => ({\n      code: i,\n      description: keymap.layer_names[i] || `Layer ${i}`\n    }))\n  ), [keymap])\n\n  const sources = useMemo(() => ({\n    kc: keycodes.indexed,\n    code: keycodes.indexed,\n    mod: keyBy(filter(keycodes, 'isModifier'), 'code'),\n    behaviours: behaviours.indexed,\n    layer: keyBy(availableLayers, 'code')\n  }), [keycodes, behaviours, availableLayers])\n\n  // TODO: this may be unnecessary\n  const isReady = useMemo(() => function() {\n    return (\n      Object.keys(keycodes.indexed).length > 0 &&\n      Object.keys(behaviours.indexed).length > 0 &&\n      get(keymap, 'layers.length', 0) > 0\n    )\n  }, [keycodes, behaviours, keymap])\n\n  const searchTargets = useMemo(() => {\n    return {\n      behaviour: behaviours,\n      layer: availableLayers,\n      mod: filter(keycodes, 'isModifier'),\n      code: keycodes\n    }\n  }, [behaviours, keycodes, availableLayers])\n\n  const getSearchTargets = useMemo(() => function (param, behaviour) {\n    // Special case for behaviour commands which can dynamically add another\n    // parameter that isn't defined at the root level of the behaviour.\n    // Currently this is just `&bt BT_SEL` and is only represented as an enum.\n    if (param.enum) {\n      return param.enum.map(v => ({ code: v }))\n    }\n\n    if (param === 'command') {\n      return get(sources, ['behaviours', behaviour, 'commands'], [])\n    }\n\n    if (!searchTargets[param]) {\n      console.log('cannot find target for', param)\n    }\n\n    return searchTargets[param]\n  }, [searchTargets, sources])\n\n  const boundingBox = useMemo(() => function () {\n    return layout.map(key => getKeyBoundingBox(\n      { x: key.x, y: key.y },\n      { u: key.u || key.w || 1, h: key.h || 1 },\n      { x: key.rx, y: key.ry, a: key.r }\n    )).reduce(({ x, y }, { max }) => ({\n      x: Math.max(x, max.x),\n      y: Math.max(y, max.y)\n    }), { x: 0, y: 0 })\n  }, [layout])\n\n  const getWrapperStyle = useMemo(() => function () {\n    const bbox = boundingBox()\n    return {\n      width: `${bbox.x}px`,\n      height: `${bbox.y}px`,\n      margin: '0 auto',\n      padding: '40px'\n    }\n  }, [boundingBox])\n\n  const handleCreateLayer = useMemo(() => function () {\n    const layer = keymap.layers.length\n    const binding = '&trans'\n    const makeKeycode = () => ({ value: binding, params: [] })\n\n    const newLayer = times(layout.length, makeKeycode)\n    const updatedLayerNames = [ ...keymap.layer_names, `Layer #${layer}` ]\n    const layers = [ ...keymap.layers, newLayer ]\n\n    onUpdate({ ...keymap, layer_names: updatedLayerNames, layers })\n  }, [keymap, layout, onUpdate])\n\n  const handleUpdateLayer = useMemo(() => function(layerIndex, updatedLayer) {\n    const original = keymap.layers\n    const layers = [\n      ...original.slice(0, layerIndex),\n      updatedLayer,\n      ...original.slice(layerIndex + 1)\n    ]\n\n    onUpdate({ ...keymap, layers })\n  }, [keymap, onUpdate])\n\n  const handleRenameLayer = useMemo(() => function (layerName) {\n    const layer_names = [\n      ...keymap.layer_names.slice(0, activeLayer),\n      layerName,\n      ...keymap.layer_names.slice(activeLayer + 1)\n    ]\n\n    onUpdate({ ...keymap, layer_names })\n  }, [keymap, activeLayer, onUpdate])\n\n  const handleDeleteLayer = useMemo(() => function (layerIndex) {\n    const layer_names = [...keymap.layer_names]\n    layer_names.splice(layerIndex, 1)\n\n    const layers = [...keymap.layers]\n    layers.splice(layerIndex, 1)\n\n    if (activeLayer > layers.length - 1) {\n      setActiveLayer(Math.max(0, layers.length - 1))\n    }\n\n    onUpdate({ ...keymap, layers, layer_names })\n  }, [keymap, activeLayer, setActiveLayer, onUpdate])\n\n  return (\n    <>\n      <LayerSelector\n        layers={keymap.layer_names}\n        activeLayer={activeLayer}\n        onSelect={setActiveLayer}\n        onNewLayer={handleCreateLayer}\n        onRenameLayer={handleRenameLayer}\n        onDeleteLayer={handleDeleteLayer}\n      />\n      <SearchContext.Provider value={{ getSearchTargets, sources }}>\n        <div style={getWrapperStyle()}>\n          {isReady() && (\n            <KeyboardLayout\n              data-layer={activeLayer}\n              layout={layout}\n              bindings={keymap.layers[activeLayer]}\n              onUpdate={event => handleUpdateLayer(activeLayer, event)}\n            />\n          )}\n        </div>\n      </SearchContext.Provider>\n    </>\n  )\n}\n\nKeyboard.propTypes = {\n  layout: PropTypes.array.isRequired,\n  keymap: PropTypes.object.isRequired,\n  onUpdate: PropTypes.func.isRequired\n}\n\nexport default Keyboard\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}